# Vehicle Model

> See complete implementation at `ParkNow.Models.Vehicle`

The `Vehicle` class represents a vehicle registered in the ParkNow system. It contains vehicle information and ownership details.

## Properties

### Primary Key
```csharp
public int VehicleId { get; set; }
```
- Unique identifier for the vehicle
- Auto-generated by the database

### Navigation Properties
```csharp
public string Username { get; set; }

[ForeignKey(nameof(Username))]
[DeleteBehavior(DeleteBehavior.NoAction)]
public required User User { get; set; }
```
- Links vehicle to its owner
- Foreign key relationship to User entity
- NoAction delete behavior prevents cascade deletes
- Required navigation property

### Vehicle Details
```csharp
public required string LicensePlate { get; set; }
```
- Vehicle's license plate number
- Required field
- Should be unique within active (non-deleted) vehicles

```csharp
public string? Model { get; set; }
```
- Vehicle model information
- Optional field
- Can be null if model information is not available

### Vehicle Classification
```csharp
public enum CarTypes
{
    Private,         // Personal vehicles
    Commercial,      // Business vehicles
    SpecialPurpose,  // Special use vehicles
    Electric,        // Electric vehicles
    PublicService    // Public service vehicles
}

public required CarTypes CarType { get; set; }
```
- Type classification of the vehicle
- Required field
- Five possible types:
  - `Private`: Personal use vehicles
  - `Commercial`: Business/commercial vehicles
  - `SpecialPurpose`: Special purpose vehicles
  - `Electric`: Electric vehicles
  - `PublicService`: Public service vehicles

### Soft Delete
```csharp
public required bool Deleted { get; set; }
```
- Indicates if the vehicle is marked as deleted
- Required field
- Used for soft delete functionality
- Defaults to false for new vehicles

## Database Configuration
- Uses Entity Framework Core
- Foreign key relationship defined using `[ForeignKey]` attribute
- Delete behavior configured to prevent cascade deletes
- Soft delete implemented through Deleted flag

## Relationships
- One-to-many relationship with User (many vehicles can belong to one user)
- Referenced by Booking entity for parking bookings

## Notes
- License plate should be unique among active vehicles
- Model is optional but other fields are required
- Vehicles are soft-deleted rather than physically removed
- Delete behavior prevents automatic cascade deletes of related records
- CarType must be one of the defined enum values
- Vehicle ownership is mandatory (User navigation property is required)

## Usage Considerations
- Check Deleted flag when querying vehicles
- Ensure license plate uniqueness among active vehicles
- Consider CarType when calculating parking rates
- Validate license plate format at application level
- Handle soft delete appropriately in queries and updates