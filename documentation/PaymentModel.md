# Payment Model

> See complete implementation at `ParkNow.Models.Payment`

The `Payment` class represents a payment transaction in the ParkNow system. It tracks payment details, including voucher discounts and transaction status.

## Properties

### Primary Key
```csharp
public int PaymentId { get; set; }
```
- Unique identifier for the payment
- Auto-generated by the database

### Navigation Properties
```csharp
[ForeignKey("BookingId")]
public required Booking Booking { get; set; }
```
- Associated booking for this payment
- Required navigation property
- One-to-one relationship with Booking entity

```csharp
[ForeignKey("VoucherId")]
public Voucher? Voucher { get; set; }
```
- Associated voucher used for the payment
- Optional navigation property
- Nullable to handle payments without vouchers

### Payment Details
```csharp
[Precision(18, 2)]
public required decimal Amount { get; set; }
```
- Original payment amount
- Stored with 18 digits total, 2 decimal places
- Required field

```csharp
[Precision(18, 2)]
public decimal? Discount { get; set; }
```
- Discount amount applied from voucher
- Stored with 18 digits total, 2 decimal places
- Nullable as discount is optional

```csharp
public required DateTime Timestamp { get; set; }
```
- Time when the payment was processed
- Required field

### Status Enumeration
```csharp
public enum Statuses
{
    Success,    // Payment completed successfully
    Failed,     // Payment transaction failed
    Refunded,   // Payment has been refunded
    Processing  // Payment is being processed
}

public required Statuses Status { get; set; }
```
- Current state of the payment
- Required field
- Can be one of four states:
  - `Success`: Payment was completed successfully
  - `Failed`: Payment transaction failed
  - `Refunded`: Payment has been refunded to user
  - `Processing`: Payment is currently being processed

## Database Configuration
- Uses Entity Framework Core
- Decimal precision configured using `[Precision(18, 2)]` attribute
- Foreign key relationships defined using `[ForeignKey]` attributes
- Navigation properties marked appropriately as required or optional

## Notes
- All amounts are stored with high precision to handle various currency amounts
- Discount is nullable to handle payments without voucher usage
- Status is required and must be one of the defined enum values
- Payment must be associated with a booking (required navigation property)
- Voucher association is optional (nullable navigation property)