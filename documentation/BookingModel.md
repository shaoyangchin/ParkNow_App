# Booking Model

> See complete implementation at `ParkNow.Models.Booking`

The `Booking` class represents a parking booking in the ParkNow system. It tracks the details of a user's parking reservation including timing, cost, and current status.

## Properties

### Primary Key
```csharp
public int BookingId { get; set; }
```
- Unique identifier for the booking
- Auto-generated by the database

### Navigation Properties
```csharp
public Payment? Payment { get; set; }
```
- Associated payment record for the booking
- Nullable reference indicating optional payment record

```csharp
public string Username { get; set; }
public required User User { get; set; }
```
- Foreign key relationship to the User entity
- `Username` serves as the foreign key
- `User` navigation property is required
- Annotated with `[ForeignKey(nameof(Username))]`

```csharp
public required Vehicle Vehicle { get; set; }
```
- Foreign key relationship to the Vehicle entity
- Required navigation property
- Annotated with `[ForeignKey("VehicleId")]`

```csharp
public required Carpark Carpark { get; set; }
```
- Foreign key relationship to the Carpark entity
- Required navigation property
- Annotated with `[ForeignKey("CarparkId")]`

### Booking Details
```csharp
public required DateTime? StartTime { get; set; }
```
- Start time of the parking booking
- Nullable but required to be set

```csharp
public required DateTime? EndTime { get; set; }
```
- End time of the parking booking
- Nullable but required to be set

```csharp
public required DateTime BookingTime { get; set; }
```
- Timestamp when the booking was created
- Non-nullable and required

```csharp
[Precision(18, 2)]
public required decimal Cost { get; set; }
```
- Total cost of the booking
- Stored with 18 digits total, 2 decimal places
- Required field

### Status Enumeration
```csharp
public enum Statuses
{
    Active,    // Currently in use
    Completed, // Parking period ended
    Cancelled, // Booking was cancelled
    Scheduled  // Future booking
}

public required Statuses Status { get; set; }
```
- Current state of the booking
- Required field
- Can be one of four states:
  - `Active`: Booking is currently in use
  - `Completed`: Booking has ended
  - `Cancelled`: Booking was cancelled
  - `Scheduled`: Future booking

## Database Configuration
- Uses Entity Framework Core
- Decimal precision configured using `[Precision(18, 2)]` attribute
- Foreign key relationships defined using `[ForeignKey]` attributes
- Navigation properties marked as required using `required` keyword

## Notes
- All required navigation properties must be set when creating a booking
- StartTime and EndTime are nullable DateTimes but marked as required properties
- Cost is stored with high precision to handle various currency amounts
- Status management is handled through the Statuses enum